# 背景
当前大模型的技术还在快速迭代和发展，大模型领域很多先进的技术和工程经验会以科技论文的形式呈现。  
阅读科技论文是快速跟进大模型技术浪潮的，了解大模型领域技术动态的一个重要方式。  
当前大模型领域的科技论文还是以英文为主。  
对于中国的科技从业者，如果将英文论文翻译为中文论文来阅读，获取信息的效率会更高一些。  

当前的大模型如gtp，deepseek的官网应用还不具备直接将PDF文件全文翻译成中文的能力。  
业界也有一些基于大模型做商业化的PDF文档翻译软件，如基于GPT的simplifyai，和基于文心大模型的百度AI论文精翻。  
这些商业化的软件翻译效果很好，缺点就是费用有点贵。  

当前也有不错的开源的PDF翻译软件，如PDFMathTranslate。  
但开源软件的问题是安装较复杂，翻译速度较慢，一些较大的文件无法翻译。  

事实上该项目的起因就是因为有一个超长的单页PDF文件我想用PDFMathTranslate翻译却翻译不出来。  
我想看看它的后端代码哪里出来问题。  
但他的后端代码写的我实在看不懂。  
我就想是不是可以通过大模型编码的方式来解决？  
然后一发不可收拾，整体上这个项目是通过DeepSeek大模型辅助编码的方式构建的。  
项目核心代码不到5百行，整体上运行的也还不错。  
整个项目架构上参考PDFMathTranslate的前端和后端的架构设计。  
基于当前的项目代码，我们上线了第一版PDF翻译服务：<b> http://pdfba.com/ </b>  
pdfba当前是基于DeepSeek V3来翻译科技论文的，当前用户可以免费翻译，后续也计划作为一个免费的公益项目运作下去。  

# 软件架构
前端通过Gradio实现了一个简单的webui。  
<p><img src=http://pdfba.oss-cn-beijing.aliyuncs.com/pdfba_arch.png></p>
webui中仅包含一个上传文件和翻译的按钮。    
翻译完成后，会生成一个html链接，点击html链接可以查看翻译成中文的文档。    

<p><img src=http://pdfba.oss-cn-beijing.aliyuncs.com/pdfba_fe.png></p>




# 关键实现流程  
整体是一个比较简单的前后端架构。  

<p><img src=http://pdfba.oss-cn-beijing.aliyuncs.com/pdfba_sw_arch.png></p>






#   当前的不足和后续的规划
当前线上的版本还远远达不到成熟和好用的标准，只能说刚刚能用。
也希望更多的人能加入一起来完善这个公益项目。
## 一些不足或bug
### 1. 界面不美观  
基本没做啥前端设计，界面布局，字体等不够美观。  
翻译没有进度条。  
点击翻译按钮后，在翻译完成前，翻译按钮没有置为不可用。  
### 2. 翻译后的文字排版部分文档不美观  
有的论文翻译完成后文字部分缺少换行。  
无法提取论文的全部一级标题作为html的锚点。  
### 3. 翻译后的表格无法排版  
有的论文翻译完成后的表格内容无法正确展示。  
### 4. 翻译后的公式无法友好展示  
当前还没在html里面支持letex公式的展示，所以公式展示的效果不好。  
### 5. 存在无法提取一些图片的问题  
一些论文中的图片无法提取出来。  
一些论文的中的图片能提取，但裁剪的范围有的偏大。  
### 6. 支持的并发不算  
当前支持50个并发  
总的token生成速度约300 tokens/s  
一篇1万字的科技论文，需要翻译时间在2分钟以内。  


## 规划
### 1.排版优化：支持公式的显示  
当前版本基本没有处理公式，对于公式较多的论文翻译效果不好，后面计划优化  
### 2.系统优化：API返回结果校验  
当前调用大模型API没有校验返回结果，有可能返回结果为空或不全，针对这种场景后续需要增加返回结果校验和重试机制。  
### 3.系统优化：cache机制  
对于重复翻译的论文，直接返回cache  
### 4.系统优化：提升性能  
当前的总token生成速度约300 tokens/s，后续的目标是探索优化到1000 tokens/s的方案。  
这个优先级略低，因为目前看300 tokens/s的性能也暂时够用  
### 5.功能：增加用户历史翻译记录  
增加可选的用户登录机制，对于登录的用户展示其历史翻译记录  
### 6.功能：增加打赏功能  
系统运行有一定的费用，一篇1万字的论文翻译需要0.5元。  
如果长期运行，假设翻译10万篇论文，需花费5万元。  
有一定的运营成本，如果要长期运营，需考虑增加赞助和捐款功能。  
